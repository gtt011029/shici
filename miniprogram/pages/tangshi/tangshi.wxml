<navigation-bar title="唐诗精选" back="{{false}}" color="black" background="#FFF"></navigation-bar>

<view class="container">
  <!-- 年级选择 -->
  <view class="grade-selector">
    <view class="grade-item {{selectedGrade === 'primary' ? 'active' : ''}}" bindtap="selectGrade" data-grade="primary">
      小学
    </view>
    <view class="grade-item {{selectedGrade === 'middle' ? 'active' : ''}}" bindtap="selectGrade" data-grade="middle">
      中学
    </view>
    <view class="grade-item {{selectedGrade === 'high' ? 'active' : ''}}" bindtap="selectGrade" data-grade="high">
      高中
    </view>
  </view>

  <!-- 搜索栏 -->
  <view class="search-bar">
    <input class="search-input" placeholder="搜索唐诗..." bindinput="onSearchInput" value="{{searchKeyword}}" />
    <view class="search-btn" bindtap="search">搜索</view>
  </view>

  <!-- 唐诗列表 -->
  <view class="poetry-list">
    <view class="poetry-item" wx:for="{{poetryList}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="poetry-header">
        <view class="poetry-title">{{item.title}}</view>
        <view class="poetry-author">{{item.author}}</view>
      </view>
      <view class="poetry-content">{{item.content}}</view>
      <view class="poetry-footer">
        <view class="poetry-tags">
          <text class="tag" wx:for="{{item.tags}}" wx:key="*this" wx:for-item="tag">{{tag}}</text>
        </view>
        <view class="poetry-length">{{item.length}}字</view>
      </view>
    </view>
  </view>

  <!-- 加载更多 -->
  <view class="load-more" wx:if="{{hasMore}}">
    <text bindtap="loadMore">加载更多</text>
  </view>
</view>

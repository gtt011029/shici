<navigation-bar title="è¯—è¯è¯¦æƒ…" back="{{true}}" color="black" background="#FFF"></navigation-bar>

<view class="container">
  <view class="poetry-card">
    <view class="poetry-header">
      <view class="poetry-title">{{poetry.title}}</view>
      <view class="poetry-tune" wx:if="{{poetry.tune}}">ã€Š{{poetry.tune}}ã€‹</view>
    </view>
    
    <view class="poetry-author">{{poetry.dynasty || ''}} Â· {{poetry.author}}</view>
    
    <view class="poetry-content">
      <text wx:for="{{poetry.contentLines}}" wx:key="*this">{{item}}</text>
    </view>
    
    <view class="poetry-tags">
      <text class="tag" wx:for="{{poetry.tags}}" wx:key="*this">{{item}}</text>
    </view>
  </view>

  <view class="analysis-section">
    <view class="section-title">è¯—è¯èµæ</view>
    <view class="analysis-content">{{poetry.analysis}}</view>
  </view>

  <view class="translation-section" wx:if="{{poetry.translation}}">
    <view class="section-title">ç™½è¯è¯‘æ–‡</view>
    <view class="translation-content">{{poetry.translation}}</view>
  </view>

  <view class="author-section" wx:if="{{poetry.authorInfo}}">
    <view class="section-title">ä½œè€…ç®€ä»‹</view>
    <view class="author-content">{{poetry.authorInfo}}</view>
  </view>

  <view class="action-buttons">
    <view class="action-btn collect-btn {{isCollected ? 'collected' : ''}}" bindtap="toggleCollect">
      <text class="btn-icon">{{isCollected ? 'â˜…' : 'â˜†'}}</text>
      <text class="btn-text">{{isCollected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
    </view>
    <view class="action-btn share-btn" bindtap="sharePoetry">
      <text class="btn-icon">ğŸ“¤</text>
      <text class="btn-text">åˆ†äº«</text>
    </view>
    <view class="action-btn recite-btn" bindtap="startRecite">
      <text class="btn-icon">ğŸ¤</text>
      <text class="btn-text">æœ—è¯»</text>
    </view>
  </view>
</view>
